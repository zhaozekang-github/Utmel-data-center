import{d as e,av as a,aw as s,aq as l,r as o,aN as r,aT as t,A as n,ax as i,K as c,o as d,c as p,e as u,l as m,Y as g,g as f,aL as h,w as v,W as w,a3 as x,aU as j,t as y,aB as _,a1 as b,X as C,aG as V,$ as K,a0 as q,aJ as $,aK as U,aH as k}from"./index.Buyu3njk.js";import{E as A}from"./el-card.CaBNoqdo.js";import{E,a as R}from"./el-form-item.B1EC_3Ji.js";import{E as L}from"./el-image-viewer.PtPYHGtp.js";import"./el-tooltip.l0sNRNKZ.js";import{E as z}from"./el-popper.BfVBGKk4.js";import{_ as I}from"./index.CKWE_OTK.js";/* empty css               */import{E as T,_ as D}from"./el-switch.cq-NsJTZ.js";import{E as H}from"./index.DdOiTB_p.js";import{_ as M}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./castArray.N1xzF4QI.js";import"./_Uint8Array.CYseMYDv.js";import"./_initCloneObject.7QVjqoR1.js";import"./debounce.BSlwRXJD.js";import"./position.CNdw7cQ6.js";import"./isUndefined.DgmxjSXK.js";import"./el-dropdown-item.BaPEc1Jr.js";import"./el-scrollbar.Cu2msVTx.js";import"./dropdown.Bis_u1sZ.js";import"./refs.C2OHdTAj.js";const B=e=>($("data-v-e6d8fb5a"),e=e(),U(),e),G={class:"login-container"},J={class:"absolute-lt flex-x-end p-3 w-full"},N={class:"text-center relative"},O={class:"flex-y-center w-full"},P={class:"flex-y-center w-full"},S={class:"flex-y-center w-full"},W={class:"mt-10 text-sm"},Y={class:"ml-4"},F={class:"absolute bottom-1 text-[10px] text-center"},X=[B((()=>m("p",null," Copyright © 2021 - 2024 youlai.tech All Rights Reserved. 有来技术 版权所有 ",-1))),B((()=>m("p",null,"皖ICP备20006496号-3",-1)))],Z=M(e({__name:"index",setup(e){const $=a(),U=s(),{t:M}=l(),B=o(U.theme===r.DARK),Z=o(!0),Q=o(!1),ee=o(!1),ae=o(),se=o(),{height:le}=t(),oe=o({username:"admin",password:"123456"}),re=n((()=>({username:[{required:!0,trigger:"blur",message:M("login.message.username.required")}],password:[{required:!0,trigger:"blur",message:M("login.message.password.required")},{min:6,message:M("login.message.password.min"),trigger:"blur"}],captchaCode:[{required:!0,trigger:"blur",message:M("login.message.captchaCode.required")}]})));function te(){j.getCaptcha().then((e=>{oe.value.captchaKey=e.captchaKey,ae.value=e.captchaBase64}))}const ne=i();function ie(){var e;null==(e=se.value)||e.validate((e=>{e&&(Q.value=!0,$.login(oe.value).then((()=>{const e=ne.query,a=e.redirect??"/",s=Object.keys(e).reduce(((a,s)=>("redirect"!==s&&(a[s]=e[s]),a)),{});k.push({path:a,query:s})})).catch((()=>{te()})).finally((()=>{Q.value=!1})))}))}const ce=()=>{const e=U.theme===r.DARK?r.LIGHT:r.DARK;U.changeTheme(e)};function de(e){e instanceof KeyboardEvent&&(ee.value=e.getModifierState("CapsLock"))}return c((()=>{le.value<600?Z.value=!1:Z.value=!0})),d((()=>{te()})),(e,a)=>{const s=T,l=D,o=H,r=I,t=K,n=E,i=z,c=L,d=q,j=R,$=A;return p(),u("div",G,[m("div",J,[g(s,{modelValue:f(B),"onUpdate:modelValue":a[0]||(a[0]=e=>h(B)?B.value=e:null),"inline-prompt":"","active-icon":"Moon","inactive-icon":"Sunny",onChange:ce},null,8,["modelValue"]),g(l,{class:"ml-2 cursor-pointer"})]),g($,{class:"!border-none !bg-transparent !rounded-4% w-100 <sm:w-85"},{default:v((()=>[m("div",N,[m("h2",null,y(f(_).title),1),g(o,{class:"ml-2 absolute-rt"},{default:v((()=>[b(y(f(_).version),1)])),_:1})]),g(j,{ref_key:"loginFormRef",ref:se,model:f(oe),rules:f(re),class:"login-form"},{default:v((()=>[g(n,{prop:"username"},{default:v((()=>[m("div",O,[g(r,{"icon-class":"user",class:"mx-2"}),g(t,{ref:"username",modelValue:f(oe).username,"onUpdate:modelValue":a[1]||(a[1]=e=>f(oe).username=e),placeholder:e.$t("login.username"),name:"username",size:"large",class:"h-[48px]"},null,8,["modelValue","placeholder"])])])),_:1}),g(i,{visible:f(ee),content:e.$t("login.capsLock"),placement:"right"},{default:v((()=>[g(n,{prop:"password"},{default:v((()=>[m("div",P,[g(r,{"icon-class":"lock",class:"mx-2"}),g(t,{modelValue:f(oe).password,"onUpdate:modelValue":a[2]||(a[2]=e=>f(oe).password=e),placeholder:e.$t("login.password"),type:"password",name:"password",onKeyup:[de,C(ie,["enter"])],size:"large",class:"h-[48px] pr-2","show-password":""},null,8,["modelValue","placeholder"])])])),_:1})])),_:1},8,["visible","content"]),g(n,{prop:"captchaCode"},{default:v((()=>[m("div",S,[g(r,{"icon-class":"captcha",class:"mx-2"}),g(t,{modelValue:f(oe).captchaCode,"onUpdate:modelValue":a[3]||(a[3]=e=>f(oe).captchaCode=e),"auto-complete":"off",size:"large",class:"flex-1",placeholder:e.$t("login.captchaCode"),onKeyup:C(ie,["enter"])},null,8,["modelValue","placeholder"]),g(c,{onClick:te,src:f(ae),class:"rounded-tr-md rounded-br-md cursor-pointer h-[48px]"},null,8,["src"])])])),_:1}),g(d,{loading:f(Q),type:"primary",size:"large",class:"w-full",onClick:V(ie,["prevent"])},{default:v((()=>[b(y(e.$t("login.login")),1)])),_:1},8,["loading"]),m("div",W,[m("span",null,y(e.$t("login.username"))+": admin",1),m("span",Y,y(e.$t("login.password"))+": 123456",1)])])),_:1},8,["model","rules"])])),_:1}),w(m("div",F,X,512),[[x,f(Z)]])])}}}),[["__scopeId","data-v-e6d8fb5a"]]);export{Z as default};
